<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdnjs.cloudflare.com https://unpkg.com https://cdn.quilljs.com https://www.gstatic.com https://www.google.com https://analytics.tiktok.com https://*.hotjar.com https://connect.facebook.net https://widgets.binotel.com https://*.clarity.ms https://googleads.g.doubleclick.net https://www.googleadservices.com; script-src-elem 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://unpkg.com https://cdn.quilljs.com https://www.gstatic.com https://www.google.com https://analytics.tiktok.com https://*.hotjar.com https://connect.facebook.net https://widgets.binotel.com https://*.clarity.ms https://googleads.g.doubleclick.net https://www.googleadservices.com; script-src-attr 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://cdn.quilljs.com; connect-src 'self' https:; img-src 'self' data: blob: https:; font-src 'self' data:; worker-src 'self' blob: https://cdnjs.cloudflare.com https://unpkg.com; frame-src 'self' https://www.google.com https://www.gstatic.com;">
    <title>Вхід / Реєстрація - 125 окрема важка механізована бригада</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/style.min.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="icon" href="images/ШЕВРОН.png" sizes="32x32">
</head>
<body>
    <div class="login-container">
        <div class="login-header">
            <h1>125 окрема важка механізована бригада</h1>
            <p>Система входу та реєстрації</p>
        </div>
        
        <div class="form-tabs">
            <button class="form-tab active" data-tab="login">Вхід</button>
            <button class="form-tab" data-tab="register">Реєстрація</button>
        </div>
        
        <div id="errorMessage" class="error-message"></div>
        <div id="successMessage" class="success-message"></div>
        
        <!-- Login Form -->
        <div id="loginForm" class="form-section active">
            <form id="loginFormElement">
                <div class="form-group">
                    <label for="loginEmail">E-mail</label>
                    <input type="email" id="loginEmail" name="email" required autocomplete="email" placeholder="Введіть ваш e-mail">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Пароль</label>
                    <input type="password" id="loginPassword" name="password" required autocomplete="current-password" placeholder="Введіть ваш пароль">
                </div>
                <button type="submit" class="btn-submit">Увійти</button>
            </form>
        </div>
        
        <!-- Register Form -->
        <div id="registerForm" class="form-section">
            <form id="registerFormElement">
                <div class="form-group">
                    <label for="registerFullName">Повне ім'я</label>
                    <input type="text" id="registerFullName" name="fullName" required autocomplete="name" placeholder="Введіть ваше повне ім'я">
                </div>
                <div class="form-group">
                    <label for="registerEmail">E-mail</label>
                    <input type="email" id="registerEmail" name="email" required autocomplete="email" placeholder="Введіть ваш e-mail">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Пароль</label>
                    <input type="password" id="registerPassword" name="password" required autocomplete="new-password" placeholder="Введіть пароль">
                </div>
                <div class="form-group">
                    <label for="registerPasswordConfirm">Підтвердження пароля</label>
                    <input type="password" id="registerPasswordConfirm" name="passwordConfirm" required autocomplete="new-password" placeholder="Підтвердіть пароль">
                </div>
                <button type="submit" class="btn-submit">Зареєструватися</button>
            </form>
        </div>
        <div class="form-group" style="margin-top: 10px;">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                <input type="checkbox" id="useLocalDbToggle" style="width: auto; accent-color: #F6921E;">
                <span>Використовувати локальну БД (демо-режим без підключення до сервера)</span>
            </label>
            <small style="display:block; margin-top:4px; color: rgba(214,181,136,0.8); font-size: 12px;">
                У цьому режимі дані зберігаються тільки в браузері. Для роботи з бойовим сервером вимкніть цю опцію.
            </small>
        </div>

        <a href="index.html" class="btn-back">← Повернутися на головну</a>
    </div>
    
    <script src="app/scripts/login-init.js"></script>
    <!-- SQL.js для локальної БД (демо-режим). Працює при запуску без бекенду (file:// або простий http-сервер). -->
    <script src="https://unpkg.com/sql.js@1.8.0/dist/sql-wasm.js"></script>
    <script src="app/scripts/database.js"></script>
    <script src="app/scripts/localApi.js"></script>
    <script src="app/scripts/api.js"></script>
    <script src="app/scripts/login.js"></script>
</body>
</html>
